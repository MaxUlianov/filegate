<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="/static/css/stylesheet.css">
    <title>FileGate</title>
</head>
<body class="flex w-full h-screen">
    <!-- sidebar -->
    {{ $currentPage := "clipboard" }}
    {{ template "sidebar.html" $currentPage }}

    <!-- main container -->
    <div class="ml-56 flex-1 flex-col h-screen">

        <div class="w-3/4 mx-auto flex flex-col h-full py-4">
            <div class="flex-1 overflow-y-auto justify-end pb-4">
              {{range .}}
                <div class="flex max-w-3/4 w-full">
                    <p class="my-2 p-2 rounded-e-xl rounded-es-xl bg-gray-200 break-all">
                      {{.}}
                    </p>
                </div>
              {{end}}
            </div>
            
            <form action="/clipboard/" method="post" id="clipboardForm" class="w-full sticky bottom-0 mb-4">
              <div class="flex items-stretch space-x-2 w-full">
                <textarea 
                  autofocus
                  id="clipboardInput" 
                  name="clipboardInput" 
                  class="w-11/12 p-2 text-gray-700 bg-white border-none ring-2 ring-gray-300 focus:outline-none focus:ring-gray-500 rounded-md" 
                  placeholder="Enter text..." 
                  rows="2"
                ></textarea>

                <button 
                  type="submit" 
                  class="w-1/12 px-2 bg-gray-500 text-white rounded hover:bg-gray-300 hover:text-gray-500"
                >
                  Save
                </button>
              </div>
            </form>

        </div>
    </div>
    <script>
    document.getElementById('clipboardInput').addEventListener('keydown', function(e) {
      if (e.key === 'Enter' && !e.shiftKey) {
        e.preventDefault();
        document.getElementById('clipboardForm').submit();
      }
    });
    </script>
    
</body>
</html>